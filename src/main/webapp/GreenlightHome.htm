<!DOCTYPE html>
<html lang="en" ng-app="sliderApp">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="images/icon-G.png">
    <title>Green Light</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <!-- add theme styles for this template -->
    <link id="pagestyle" rel="stylesheet" type="text/css" href="css/skin-1.css">


    <!-- Custom styles for this template -->
    <link href="css/style.css" rel="stylesheet">

    <!-- css3 animation effect for this template -->
    <link href="css/animate.min.css" rel="stylesheet">

    <!-- styles needed by carousel slider -->
    <link href="css/owl.carousel.css" rel="stylesheet">
    <link href="css/owl.theme.css" rel="stylesheet">

    <!-- styles needed by checkRadio -->
    <link href="css/ion.checkRadio.css" rel="stylesheet">
    <link href="css/ion.checkRadio.cloudy.css" rel="stylesheet">

    <!-- styles needed by mCustomScrollbar -->
    <link href="css/jquery.mCustomScrollbar.css" rel="stylesheet">
    <link href="css/ng-scrollbar.css" rel="stylesheet">




    <!-- Just for debugging purposes. -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- include pace script for automatic web page progress bar  -->

    <script>
        paceOptions = {
            elements: true
        };
    </script>
    <script src="js/pace.js"></script>
    <script type="text/javascript">
        function swapStyleSheet(sheet) {
            document.getElementById('pagestyle').setAttribute('href', sheet);
        }
    </script>
    <style>

        .themeControll {
            background: #2d3e50;
            height: auto;
            width: 100px;
            position: fixed;
            left: 0;
            padding: 20px;
            top: 20%;
            z-index: 999999;
            -webkit-transform: translateX(0);
            -moz-transform: translateX(0);
            -o-transform: translateX(0);
            -ms-transform: translateX(0);
            transform: translateX(0);
            opacity: 1;
            -ms-filter: none;
            filter: none;
            -webkit-transition: opacity .5s linear, -webkit-transform .7s cubic-bezier(.56, .48, 0, .99);
            -moz-transition: opacity .5s linear, -moz-transform .7s cubic-bezier(.56, .48, 0, .99);
            -o-transition: opacity .5s linear, -o-transform .7s cubic-bezier(.56, .48, 0, .99);
            -ms-transition: opacity .5s linear, -ms-transform .7s cubic-bezier(.56, .48, 0, .99);
            transition: opacity .5s linear, transform .7s cubic-bezier(.56, .48, 0, .99);
        }

        .themeControll.active {
            display: block;
            -webkit-transform: translateX(-100px);
            -moz-transform: translateX(-100px);
            -o-transform: translateX(-100px);
            -ms-transform: translateX(-1020px);
            transform: translateX(-100px);
            -webkit-transition: opacity .5s linear, -webkit-transform .7s cubic-bezier(.56, .48, 0, .99);
            -moz-transition: opacity .5s linear, -moz-transform .7s cubic-bezier(.56, .48, 0, .99);
            -o-transition: opacity .5s linear, -o-transform .7s cubic-bezier(.56, .48, 0, .99);
            -ms-transition: opacity .5s linear, -ms-transform .7s cubic-bezier(.56, .48, 0, .99);
            transition: opacity .5s linear, transform .7s cubic-bezier(.56, .48, 0, .99);

        }

        .themeControll a {
            border-radius: 3px;
            clear: both;
            display: block;
            height: 25px;
            margin-bottom: 4px;
            width: 50px;
        }

        .tbtn {
            background: #2D3E50;
            color: #FFFFFF !important;
            font-size: 30px;
            height: auto;
            padding: 10px;
            position: absolute;
            right: -40px;
            top: 0;
            width: 40px;
            cursor: pointer;
        }

        @media (max-width: 780px) {
            .themeControll {
                display: none;
            }
        }

    </style>
</head>

<body >

<!-- Modal Login start -->
<div class="modal signUpContent fade" id="ModalLogin" tabindex="-1" role="dialog">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> × </button>
                <h3 class="modal-title-site text-center"> ĐĂNG NHẬP </h3>
            </div>
            <div class="modal-body">
                <div class="form-group login-username">
                    <div>
                        <input name="log" id="login-user" class="form-control input" size="20" placeholder="Tài khoản" type="text">
                    </div>
                </div>
                <div class="form-group login-password">
                    <div>
                        <input name="Password" id="login-password" class="form-control input" size="20" placeholder="Mật khẩu" type="password">
                    </div>
                </div>
                <div class="form-group">
                    <div>
                        <div class="checkbox login-remember">
                            <label>
                                <input name="rememberme" value="forever" checked="checked" type="checkbox">
                                Remember Me </label>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <input name="submit" class="btn  btn-block btn-lg btn-primary" value="Đăng nhập" type="submit">
                    </div>
                </div>
                <!--userForm-->

            </div>
            <div class="modal-footer">
                <p class="text-center"> Chưa có tài khooản? <a data-toggle="modal" data-dismiss="modal" href="#ModalSignup"> Đăng ký. </a> <br>
                    <a href="#forgotPassword"> Quên mật khẩu? </a> </p>
            </div>
        </div>
        <!-- /.modal-content -->

    </div>
    <!-- /.modal-dialog -->

</div>
<!-- /.Modal Login -->


<!-- Modal Signup start -->
<div class="modal signUpContent fade" id="ModalSignup" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"> × </button>
                <h3 class="modal-title-site text-center"> ĐĂNG KÝ </h3>
            </div>
            <div class="modal-body">
                <div class="control-group"> <a class="fb_button btn  btn-block btn-lg " href="#signUpWithFace"> ĐĂNG KÝ QUA FACEBOOK </a> </div>
                <h5 style="padding:10px 0 10px 0;" class="text-center"> HOẶC </h5>
                <div class="form-group reg-username">
                    <div>
                        <input name="login" class="form-control input" size="20" placeholder="Tài khoản" type="text">
                    </div>
                </div>
                <div class="form-group reg-email">
                    <div>
                        <input name="reg" class="form-control input" size="20" placeholder="Địa chỉ Email" type="text">
                    </div>
                </div>
                <div class="form-group reg-password">
                    <div>
                        <input name="password" class="form-control input" size="20" placeholder="Mật khẩu" type="password">
                    </div>
                </div>
                <div class="form-group">
                    <div>
                        <div class="checkbox login-remember">
                            <label>
                                <input name="rememberme" id="rememberme" value="forever" checked="checked" type="checkbox">
                                Ghi nhớ </label>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <input name="submit" class="btn  btn-block btn-lg btn-primary" value="ĐĂNG KÝ" type="submit">
                    </div>
                </div>
                <!--userForm-->

            </div>
            <div class="modal-footer">
                <p class="text-center"> Bạn đã trở thành thành viên? <a data-toggle="modal" data-dismiss="modal" href="#ModalLogin"> Đăng nhập </a> </p>
            </div>
        </div>
        <!-- /.modal-content -->

    </div>
    <!-- /.modal-dialog -->

</div>
<!-- /.ModalSignup End -->

<!-- Fixed navbar start -->
<div class="navbar navbar-tshop navbar-fixed-top megamenu" role="navigation">
<div class="navbar-top">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-sm-6 col-xs-6 col-md-6">
                <div class="pull-left ">
                    <ul class="userMenu ">
                        <li> <a href="#"> <span class="hidden-xs">Trợ giúp</span><i class="glyphicon glyphicon-info-sign hide visible-xs "></i> </a> </li>
                        <li class="phone-number">
                            <a href="callto:+8801680531352">
                                <span> <i class="glyphicon glyphicon-phone-alt "></i></span>
                                <span class="hidden-xs" style="margin-left:5px"> 0977-718-377 </span> </a> </li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-6 col-sm-6 col-xs-6 col-md-6 no-margin no-padding">
                <div class="pull-right">
                    <ul class="userMenu">
                        <li> <a href="#account"><span class="hidden-xs"> Tài khoản</span>
                            <i class="glyphicon glyphicon-user hide visible-xs "></i></a> </li>
                        <li> <a href="#login" data-toggle="modal" data-target="#ModalLogin">
                            <span class="hidden-xs">Đăng nhập</span>
                            <i class="glyphicon glyphicon-log-in hide visible-xs "></i> </a> </li>
                        <li class="hidden-xs"> <a href="#Signup" data-toggle="modal" data-target="#ModalSignup"> Đăng ký </a> </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!--/.navbar-top-->

<div class="container">
<div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only"> Toggle navigation </span> <span class="icon-bar"> </span>
        <span class="icon-bar"> </span> <span class="icon-bar"> </span> </button>
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-cart">
        <i class="fa fa-shopping-cart colorWhite"> </i>
        <span class="cartRespons colorWhite"> Giỏ hàng ($210.00) </span> </button>
    <a class="navbar-brand " href="#Home"> <img src="images/logo.png" alt="GREEN LIGHT"> </a>

    <!-- this part for mobile -->
    <div class="search-box pull-right hidden-lg hidden-md hidden-sm">
        <div class="input-group">
            <button class="btn btn-nobg getFullSearch" type="button"> <i class="fa fa-search"> </i> </button>
        </div>
        <!-- /input-group -->

    </div>
</div>

<!-- this part is duplicate from cartMenu  keep it for mobile -->
<div class="navbar-cart  collapse" ng-controller="SliderController">
    <div class="cartMenu  col-lg-4 col-xs-12 col-md-4 ">
        <div class="w100 miniCartTable scroll-pane">
            <table>
                <tbody>
                <!-- angularjs - auto generate cart item -->
                <tr class="miniCartProduct" ng-repeat="cartItem in cartItems">
                    <td style="width:20%" class="miniCartProductThumb">
                        <div>
                            <a ng-href="{{cartItem.link}}">
                                <img ng-src="{{cartItem.img}}" alt="img"> </a></div>
                    </td>
                    <td style="width:40%"><div class="miniCartDescription">
                        <h4> <a ng-href="{{cartItem.link}}" ng-bind="cartItem.productName"></a> </h4>
                        <span class="size" ng-bind="cartItem.productSize"></span>
                        <div class="price" ng-bind="cartItem.productPrice"> <span> </span> </div>
                    </div></td>
                    <td style="width:10%" class="miniCartQuantity"><a ng-bind="cartItem.quantity"></a></td>
                    <td style="width:15%" class="miniCartSubtotal"><span ng-bind="cartItem.subtotal"></span></td>
                    <td style="width:5%" class="delete"><a> x </a></td>
                </tr>

                </tbody>
            </table>
        </div>
        <!--/.miniCartTable-->

        <div class="miniCartFooter  miniCartFooterInMobile text-right">
            <h3 class="text-right subtotal"> Tổng cộng: $210 </h3>
            <a class="btn btn-sm btn-danger"> <i class="fa fa-shopping-cart"> </i> Chi tiết </a> <a class="btn btn-sm btn-primary"> Thanh toán </a> </div>
        <!--/.miniCartFooter-->

    </div>
    <!--/.cartMenu-->
</div>
<!--/.navbar-cart-->

<div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
        <li class="active"> <a href="#"> Trang chủ </a> </li>
        <li class="dropdown ">
            <a data-toggle="dropdown" class="dropdown-toggle" href="GreenlightProduct.htm"> Sản phẩm <b class="caret"> </b> </a>
            <ul class="dropdown-menu col-lg-2  col-sm-2 col-md-2 unstyled noMarginLeft newCollectionUl">
                <li> <a href="GreenlightProduct.htm"> ALL NEW PRODUCTS </a> </li>
                <li> <a href="GreenlightProduct.htm"> NEW TOPS </a> </li>
                <li> <a href="GreenlightProduct.htm"> NEW SHOES </a> </li>
                <li> <a href="GreenlightProduct.htm"> NEW TSHIRT </a> </li>
                <li> <a href="GreenlightProduct.htm"> NEW TSHOP </a> </li>
            </ul>
        </li>
        <li class=""> <a href="#"> Giới thiệu </a> </li>
        <li class=""> <a href="#"> Đại lý </a> </li>
    </ul>

    <!--- this part will be hidden for mobile version -->
    <div class="nav navbar-nav navbar-right hidden-xs">
        <div class="dropdown  cartMenu ">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                <i class="fa fa-shopping-cart"> </i>
                <span class="cartRespons"> Giỏ hàng ($210.00) </span> <b class="caret"> </b> </a>
            <div class="dropdown-menu col-lg-4 col-xs-12 col-md-4 " ng-controller="SliderController">
                <div class="w100 miniCartTable scroll-pane">
                    <table>
                        <tbody>
                        <tr class="miniCartProduct" ng-repeat="cartItem in cartItems">
                            <td style="width:20%" class="miniCartProductThumb">
                                <div> <a ng-href="{{cartItem.link}}">
                                    <img ng-src="{{cartItem.img}}" alt="img"> </a> </div></td>
                            <td style="width:40%"><div class="miniCartDescription">
                                <h4> <a ng-href="{{cartItem.link}}" ng-bind="cartItem.productName"></a> </h4>
                                <span class="size" ng-bind="cartItem.productSize"> </span>
                                <div class="price"> <span ng-bind="cartItem.productPrice"></span> </div>
                            </div></td>
                            <td style="width:10%" class="miniCartQuantity"><a ng-bind="cartItem.quantity"> X 1 </a></td>
                            <td style="width:15%" class="miniCartSubtotal"><span ng-bind="cartItem.subtotal"></span></td>
                            <td style="width:5%" class="delete"><a> x </a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <!--/.miniCartTable-->

                <div class="miniCartFooter text-right">
                    <h3 class="text-right subtotal"> Tổng cộng: $210 </h3>
                    <a class="btn btn-sm btn-danger"> <i class="fa fa-shopping-cart"> </i> Chi tiết </a>
                    <a class="btn btn-sm btn-primary"> Thanh toán </a></div>
                <!--/.miniCartFooter-->

            </div>
            <!--/.dropdown-menu-->
        </div>
        <!--/.cartMenu-->

        <div class="search-box">
            <div class="input-group">
                <button class="btn btn-nobg getFullSearch" type="button"> <i class="fa fa-search"> </i> </button>
            </div>
            <!-- /input-group -->

        </div>
        <!--/.search-box -->
    </div>
    <!--/.navbar-nav hidden-xs-->
</div>
<!--/.nav-collapse -->

</div>
<!--/.container -->

<div class="search-full text-right"> <a class="pull-right search-close"> <i class=" fa fa-times-circle"> </i> </a>
    <div class="searchInputBox pull-right">
        <input type="search" data-searchurl="search?=" name="q" placeholder="Tìm kiếm" class="search-input">
        <button class="btn-nobg search-btn" type="submit"> <i class="fa fa-search"> </i> </button>
    </div>
</div>
<!--/.search-full-->

</div>
<!-- /.Fixed navbar  -->



<!-- Banner -->


<div class="banner" >
    <div class="full-container">
        <slider images="images" />

    </div>
    <!--/.full-container-->
</div>
<!--/.banner style1-->


<!-- ========================================================================= -->


<div class="container main-container" > <!--when-scrolled="loadMoreProduct1()"> -->

<!-- Main component call to action -->

<div class="morePost row featuredPostContainer style2 globalPaddingTop ">
<h3 class="section-title style2 text-center"><span>FEATURES PRODUCT</span></h3>
<div class="container">
<div class="row xsResponse" ng-controller="SliderController">
<div class="item col-lg-3 col-md-3 col-sm-4 col-xs-6" endless-scroll="productdata in productList">
    <div class="product">
        <a class="add-fav tooltipHere" data-toggle="tooltip" data-original-title="Add to Wishlist" data-placement="left">
            <i class="glyphicon glyphicon-heart"></i>
        </a>

        <div class="image"> <a ng-href="{{productdata.link}}">
            <img ng-src="{{productdata.img}}" alt="img" class="img-responsive"></a>
            <div class="promotion">
                <span class="new-product" ng-bind="productdata.new"> </span>
                <span class="discount" ng-bind="productdata.discount"></span></div>
        </div>
        <div class="description">
            <h4><a ng-href="{{productdata.link}}"></a></h4>
            <p ng-bind="productdata.content"> </p>
            <span class="size" ng-bind="productdata.size"></span> </div>
        <div class="price">

            <span ng-bind="productdata.price"></span>
            <span class="old-price" ng-bind="productdata.oldPrice"></span>
        </div>
        <div class="action-control"> <a class="btn btn-primary"> <span class="add2cart">
            <i class="glyphicon glyphicon-shopping-cart"> </i> Add to cart </span> </a> </div>
    </div>
</div>
<!--<script>-->
    <!--$scope.productList = [-->
        <!--{-->
            <!--name : 'aliquam erat volutpat' ,-->
            <!--content : 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. ',-->
            <!--size : 'XL / XXL / S',-->
            <!--price : '$25',-->
            <!--oldPrice : '$75',-->
            <!--discound : '15% OFF',-->
            <!--new : 'NEW',-->
            <!--link : 'GreenlightProductDetail.htm',-->
            <!--img : 'images/30.jpg'-->

        <!--}-->
    <!--];-->

<!--</script>-->

</div>
<!-- /.row -->

<div class="row">
    <div class="load-more-block text-center"> <a class="btn btn-thin" href="#loadMore" ng-click="loadMoreProduct()"> <i class="fa fa-plus-sign">+</i> load more products</a> </div>
</div>
</div>
<!--/.container-->
</div>
<!--/.featuredPostContainer-->
</div>

<!-- Footer -->

<footer when-scrolled="loadMoreProduct1()">
    <div class="footer" id="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-6  col-md-6 col-sm-6 col-xs-12">
                    <h3> Hỗ trợ </h3>
                    <ul>
                        <li class="supportLi">
                            <p> Công ty GREEN Light </p>
                            <h4><a class="inline" href="callto:+84977718377"> <strong> <i class="fa fa-phone"> </i>
                                0977.718.377 </strong> </a></h4>
                            <h4><a class="inline" href="mailto:danglanh.it@gmail.com"> <i class="fa fa-envelope-o"> </i>
                                danglanh.it@gmail.com </a></h4>
                        </li>
                    </ul>
                </div>

                <div class="col-lg-6  col-md-6 col-sm-6 col-xs-12 right">
                    <h3> Liên kết </h3>
                    <ul>
                        <li>
                            <div class="input-append newsLatterBox text-center">
                                <input class="full text-center" placeholder="Email " type="text">
                                <button class="btn  bg-gray" type="button"> Đăng ký <i
                                        class="fa fa-long-arrow-right"> </i></button>
                            </div>
                        </li>
                    </ul>
                    <ul class="social">
                        <li><a href="http://facebook.com/"> <i class=" fa fa-facebook"> &nbsp; </i> </a></li>
                        <li><a href="http://twitter.com/"> <i class="fa fa-twitter"> &nbsp; </i> </a></li>
                        <li><a href="https://plus.google.com/"> <i class="fa fa-google-plus"> &nbsp; </i> </a></li>
                        <li><a href="http://youtube.com/"> <i class="fa fa-pinterest"> &nbsp; </i> </a></li>
                        <li><a href="http://youtube.com/"> <i class="fa fa-youtube"> &nbsp; </i> </a></li>
                    </ul>
                </div>
            </div>
            <!--/.row-->
        </div>
        <!--/.container-->
    </div>
    <!--/.footer-->


</footer>

<!-- Le javascript
================================================== -->

<!-- Placed at the end of the document so the pages load faster -->
<script type="text/javascript" src="js/jquery.js"></script>
<script src="js/bootstrap.min.js"></script>

<!-- include jqueryCycle plugin -->
<script src="js/jquery.cycle2.min.js"></script>


<!-- include easing plugin -->
<script src="js/jquery.easing.1.3.js"></script>
<!-- include  parallax plugin -->
<script src="js/jquery.parallax-1.1.js"></script>

<!-- optionally include helper plugins -->
<script type="text/javascript" src="js/jquery.mousewheel.min.js"></script>

<!-- include mCustomScrollbar plugin //Custom Scrollbar  -->

<script type="text/javascript" src="js/jquery.mCustomScrollbar.js"></script>

<!-- include checkRadio plugin //Custom check & Radio  -->
<script type="text/javascript" src="js/ion.checkRadio.min.js"></script>

<!-- include grid.js // for equal Div height  -->
<script src="js/grids.js"></script>

<!-- include carousel slider plugin  -->
<script src="js/owl.carousel.min.js"></script>

<!-- jQuery minimalect // custom select   -->
<script src="js/jquery.minimalect.min.js"></script>

<!-- include touchspin.js // touch friendly input spinner component   -->
<script src="js/bootstrap.touchspin.js"></script>

<!-- include custom script for only homepage  -->
<script src="js/home.js"></script>
<!-- include custom script for site  -->
<script src="js/script.js"></script>
<!--<script src="js/angular.js"></script>-->
<!--<script src="js/angular-sanitize.min.js"></script>-->

<!--<script src="js/gl-controller.js"></script>-->

<script src="js/angular.js"></script>
<script src="js/angular-sanitize.min.js"></script>
<script src="js/angular-animate.js"></script>

<script src="js/slide1.js"></script>
<script src="js/angular-endless-scroll.js"></script>
<script>

</script>
<!--
<script>
    (function(angular) {
        'use strict';

        // Module
        angular.module('sliderApp', ['dc.endlessScroll']);

        // Config
        angular.module('sliderApp')
                .config(function($locationProvider) {
                    $locationProvider.html5Mode(true);
                });

        // Service
        angular.module('sliderApp')
                .factory('PostLoader', function($http, $q) {
                    function PostLoader() {}

                    PostLoader.prototype.init = function(params) {
                        params = angular.extend({ page: 1 }, params);

                        // Properties
                        this.pagination = { perPage: 20, maxPages: 50 };
                        this.posts = [];

                        // Load the initial page, using the URL param if available
                        return this.load(params.page);
                    };

                    PostLoader.prototype.load = function(page) {
                        page = parseInt(page, 10);
                        page = isNaN(page) ? 1 : page;

                        var method = this.pagination.lastPage && page < this.pagination.lastPage ? 'unshift' : 'push';

                        // Define the current page
                        if (this.pagination.totalPages) {
                            page = Math.min(Math.max(page, 1), this.pagination.totalPages);
                        }

                        // Only load a new page if it is not already loaded
                        if ((page > this.pagination.lastPage || !this.pagination.lastPage) ||
                                (page < this.pagination.firstPage || !this.pagination.firstPage)) {
                            return this.get(page)
                                    .success(angular.bind(this, function(data) {
                                        var response = data.response;

                                        // Set the last page
                                        if (!this.pagination.lastPage || page > this.pagination.lastPage) {
                                            this.pagination.lastPage = page;
                                        }

                                        // Set the first page, if not already set
                                        if (!this.pagination.firstPage || page < this.pagination.firstPage) {
                                            this.pagination.firstPage = page;
                                        }

                                        // Determine the total number of pages
                                        this.pagination.totalPages = Math.ceil(response.total_posts / this.pagination.perPage);

                                        if (this.pagination.maxPages) {
                                            this.pagination.totalPages = Math.min(this.pagination.totalPages, this.pagination.maxPages);
                                        }

                                        // Append or prepend the fetched posts, depending if they are posts from the next or previous page
                                        this.posts[method].apply(this.posts, response.posts);

                                        // Return the array of posts
                                        return response.posts;
                                    }));
                        } else {
                            return $q.reject();
                        }
                    };

                    PostLoader.prototype.next = function() {
                        var page = !this.pagination.lastPage ? 1 : this.pagination.lastPage + 1;

                        // Get the next page
                        return this.load(page);
                    };

                    PostLoader.prototype.previous = function() {
                        var page = !this.pagination.firstPage ? 1 : this.pagination.firstPage - 1;

                        // Get the previous page
                        return this.load(page);
                    };

                    PostLoader.prototype.get = function(page) {
                        var url = 'http://api.tumblr.com/v2/blog/fuckyeahcats.tumblr.com/posts/photo',
                                config = {
                                    params: {
                                        api_key: 'z46iUTiovIf3N5KdioKhU2vvTBMWRHA8KLeIBruDnEHTXpiK8n',
                                        jsonp: 'JSON_CALLBACK',
                                        limit: this.pagination.perPage
                                    }
                                };

                        // Define the post number to start from
                        config.params.offset = (page - 1) * config.params.limit;

                        // Make a HTTP request
                        return $http.jsonp(url, config);
                    };

                    return {
                        create: function() {
                            return new PostLoader();
                        }
                    };
                });

        // Controller
        angular.module('sliderApp')
                .controller('MainController', function($scope, $location, PostLoader) {
                    // Private vars
                    var postLoader = PostLoader.create();

                    // Private methods
                    function onPageLoad() {
                        $scope.posts = postLoader.posts;
                        $scope.pagination = postLoader.pagination;
                        $scope.loading = false;
                    }

                    function onPageLoadError() {
                        $scope.loading = false;
                    }

                    // Scope methods
                    $scope.nextPage = function() {
                        $scope.loading = true;

                        postLoader.next().then(onPageLoad, onPageLoadError);
                    };

                    $scope.previousPage = function() {
                        $scope.loading = true;

                        postLoader.previous().then(onPageLoad, onPageLoadError);
                    };

                    // Register event handlers
                    $scope.$on('endlessScroll:next', $scope.nextPage);
                    $scope.$on('endlessScroll:previous', $scope.previousPage);

                    // Initialise
                    var params = {
                        page: $location.search().page
                    };

                    postLoader.init(params).then(onPageLoad);
                });
    })(window.angular);
</script>
-->




</body>
</html>